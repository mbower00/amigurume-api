# using code from 
# - https://www.youtube.com/watch?v=RcxvrhQKv8I
# - https://marketplace.visualstudio.com/items?itemName=humao.rest-client
@host = http://127.0.0.1:5000

### ROOT ###

get {{host}}

### USER ###
# sign up user
post {{host}}/user/sign-up
Content-Type: application/json

{
    "email": "test@email.com",
    "password": "d3mon$tration",
    "username": "testtest"
}

###
# log in user
post {{host}}/user/log-in
Content-Type: application/json

{
    "password": "d3mon$tration",
    "username": "testtest"
}

###
# refresh user
get {{host}}/user/refresh
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA

###
# log out token
get {{host}}/user/log-out
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA

###
# get all users
get {{host}}/users

###
# get user by id
get {{host}}/user/1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA

###
# clearance to admin
patch {{host}}/user/clearance/2

###
# clearance to user
patch {{host}}/user/clearance/7?to-user=1


### PRODUCT ###
# get all
get {{host}}/products
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA
###
# get get types
get {{host}}/product/types

###
# get by ID
get {{host}}/product/5

###

post {{host}}/product
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA
Content-Type: application/json

{
    "name": "Dragon Tail2",
    "stock": 5,
    "description": "A green dragon plushie tail.",
    "type": "tail"
}

###
# update a product
patch {{host}}/product/12
Content-Type: application/json

{
    "stock": 60
}

###
# delete a product
delete {{host}}/product/12

### ORDER ###
# get ALL orders
get {{host}}/orders
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA

###
# get orders by a user
get {{host}}/orders/user/2
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA

###
# get orders for current user
get {{host}}/orders/my
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA

###
# get order by ID
get {{host}}/order/4
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA

###
# post new order
post {{host}}/order
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA
Content-Type: application/json

{
    "ordered_products": [
        {
            "id": 1,
            "quantity": 1
        }
    ]
}

###
# fulfill an order
patch {{host}}/order/fulfill/1

###
# unfulfill an order
patch {{host}}/order/fulfill/8?to-null=1

###
# delete an order
delete {{host}}/order/1
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTc2MjQ2MjAzNywianRpIjoiM2EyYWM4NjQtYzY1My00ZTBiLWExNmEtOTMyMmJkOTJkNTgyIiwidHlwZSI6ImFjY2VzcyIsInN1YiI6InRlc3R0ZXN0IiwibmJmIjoxNzYyNDYyMDM3LCJjc3JmIjoiOTcwNWE0ODMtOTM1NS00NTk5LWIxNjItNTc1YTQ0MzJlZjFmIiwiZXhwIjoxNzYyNDYyOTM3LCJjbGVhcmFuY2UiOiJhZG1pbiJ9.EBu9S4w6YwgZFp7m46UTk4IPWMbHuwH064zUpK0zhdA